<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Onboarding – BIG BROTHER</title>
  <link rel="stylesheet" href="assets/css/style.css">
</head>
<body class="onboarding">
  <div id="onboarding-container" class="onboarding-container">
    <div class="ripple-bg"></div>
    <div id="slide" class="slide"></div>
    <div class="controls">
      <button id="nextBtn">Next</button>
    </div>
  </div>
  <script src="assets/js/script.js"></script>
<script>
  const basePath = window.location.origin + window.location.pathname.split('/').slice(0, -1).join('/');
  const jsonPath = basePath + '/assets/data/onboarding_en.json?v=' + new Date().getTime();

  fetch(jsonPath)
    .then(res => res.json())
    .then(data => {
      const container = document.getElementById('slide');
      const nextBtn = document.getElementById('nextBtn');
      let current = 0;

      function renderSlide(i) {
        const s = data.slides[i];
        container.innerHTML = `<h1>${s.title}</h1><p>${s.body.replace(/\n/g, "<br>")}</p>`;
      }

      renderSlide(current);
      nextBtn.addEventListener('click', () => {
        current++;
        if (current < data.slides.length) renderSlide(current);
        else window.location.href = 'dashboard.html';
      });
    })
    .catch(err => {
      document.body.innerHTML = "<h2 style='color:white;text-align:center;'>⚠️ Unable to load onboarding data</h2>";
      console.error('Error fetching onboarding JSON:', err);
    });
    </script>
</body>
</html>
